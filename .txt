import { Guild } from "../structures/Guild"
import { Member } from "../structures/Member"
import { Message } from "../structures/Message"

export declare type Mentions = {
    users?: Array<object>,
    channels?: Array<object>,
    roles?: Array<object>,
    everyone?: boolean,
    here?: boolean
}

export declare type ListItemNoteTypes = {
    createdAt: number,
    createdBy: string,
    updatedAt?: number,
    updatedBy?: string,
    mentions?: Mentions,
    content: string
}

/* Channel edit types */
export type ChannelEditTypes = {
    name?: string,
    topic?: string,
    isPublic?: boolean
}

export type ChannelCategories = 'announcement'|'chat'|'calendar'|'forums'|'media'|'docs'|'voice'|'list'|'scheduling'|'stream';

/** Message Reaction Raw data types */
export type messageReactionRawTypes = {
    serverId: string,
    reaction: {
        channelId: string,
        messageId: string,
        createdBy: string,
        emote: {
            id: number|string,
            name: string,
            url: string
        }
    }
}

/** TouchGuild's message reaction types */
export type messageReactionTypes = {
    message: Message|{
        id: string,
        guild: Guild | {
            id: string
        },
        channelID: string
    }, 
    emoji: emojiTypes,
    reactor: Member| {
        id: string
    }
}

export type emojiTypes = {
    id: number|string,
    name: string,
    url: string
}

/** social link types */
export type socialLinkTypes = {
    memberUsername: string,
    serviceID: string,
    type: string
}

export type UserClientTypes = {
    user: {
        id: string,
        botID: string,
        username: string,
        createdAt: Number,
        createdBy: string
    }
}

/** Guild */

export type Server = {
    id: string,
    ownerId: string,
    type?: 'team'|'organization'|'community'|'clan'|'guild'|'friends'|'streaming'|'other',
    name: string,
    url?: string;
    about?: string,
    avatar?: string,
    banner?: string,
    timezone?: string,
    isVerified?: boolean,
    defaultChannelId?: string,
    createdAt: string
}

/** Chat Message */

export type ChatMessage = {
    id: string,
    type: 'default'|'system',
    serverId?: string,
    channelId: string,
    content?: string,
    embeds?: Array<EmbedOptions>,
    replyMessageIds?: Array<string>,
    isPrivate?: boolean,
    isSilent?: boolean,
    mentions?: Mentions,
    createdAt: string,
    createdBy: string,
    createdByWebhookId?: string,
    updatedAt?: string
}

/** Embed types. */
export interface EmbedOptions {
    title?: string,
    description?: string,
    url?: string,
    color?: number,
    footer?: {
        icon_url?: string,
        text?: string
    },
    timestamp?: string,
    thumbnail?: {
        url?: string
    },
    image?: {
        url?: string
    },
    author?: {
        name?: string,
        url?: string,
        icon_url?: string
    },
    fields?: Array<EmbedField>
} // ik partial exists


/** Types for an embed field. */
export interface EmbedField {
    name: string,
    value: string,
    inline?: boolean
}

/** Types for message options. */
export type MessageOptions = {
    content?: string,
    embeds?: Array<EmbedOptions>,
    replyMessageIds?: Array<string>,
    isSilent?: boolean,
    isPrivate?: boolean
}